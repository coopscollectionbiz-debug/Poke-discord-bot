<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coop‚Äôs Collection ‚Äî Shop</title>

  <link rel="stylesheet" href="style.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
</head>

<body>

  <!-- ===========================================================
       Header
  ============================================================ -->
  <header>
    <h1>üõí Shop</h1>
    <p>Use your CC to buy items and grow your team</p>
  </header>

  <!-- ===========================================================
       Navigation Tabs
  ============================================================ -->
  <div id="navTabs" class="nav-tabs">
    <button id="goPokemon" class="nav-tab">‚≠ê Manage Pok√©mon</button>
    <button id="goTrainers" class="nav-tab">üßë Manage Trainers</button>
    <button id="goShop" class="nav-tab active">üõí Shop</button>
  </div>

  <!-- ===========================================================
       Stats Bar
  ============================================================ -->
  <div id="statsBar">
    <div class="stat-item">üí∞ CC: <span id="ccCount">0</span></div>
    <div class="stat-item">üíé Stones: <span id="stoneCount">0</span></div>
  </div>

  <main>

    <!-- ===========================================================
         Pok√© Balls
    ============================================================ -->
    <section class="shop-section">
      <h2>Pok√© Balls</h2>
      <p class="subtitle">Gives 1 random Pok√©mon. Better balls increase rarity odds.</p>

      <div class="shop-grid">

        <!-- Pok√© Ball -->
        <div class="shop-item">
          <img src="/public/sprites/items/pokeball.png" class="item-icon" />
          <h3>Pok√© Ball</h3>
          <p class="desc">Basic ball. Higher chance of Common.</p>
          <p class="price">
            <span class="price-value" data-price="pokeball">‚Äì</span> CC
          </p>
          <button class="buy-btn" data-item="pokeball">Buy</button>
        </div>

        <!-- Great Ball -->
        <div class="shop-item">
          <img src="/public/sprites/items/greatball.png" class="item-icon" />
          <h3>Great Ball</h3>
          <p class="desc">Improved rarity odds.</p>
          <p class="price">
            <span class="price-value" data-price="greatball">‚Äì</span> CC
          </p>
          <button class="buy-btn" data-item="greatball">Buy</button>
        </div>

        <!-- Ultra Ball -->
        <div class="shop-item">
          <img src="/public/sprites/items/ultraball.png" class="item-icon" />
          <h3>Ultra Ball</h3>
          <p class="desc">Best Rare+ chance.</p>
          <p class="price">
            <span class="price-value" data-price="ultraball">‚Äì</span> CC
          </p>
          <button class="buy-btn" data-item="ultraball">Buy</button>
        </div>

      </div>
    </section>

    <!-- ===========================================================
         Evolution Stones
    ============================================================ -->
    <section class="shop-section">
      <h2>Evolution</h2>

      <div class="shop-grid">
        <div class="shop-item">
          <img src="/public/sprites/items/evolution_stone.png" class="item-icon" />
          <h3>Evolution Stone</h3>
          <p class="desc">Evolves eligible Pok√©mon.</p>
          <p class="price">
            <span class="price-value" data-price="evo_stone">‚Äì</span> CC
          </p>
          <button class="buy-btn" data-item="evo_stone">Buy</button>
        </div>
      </div>
    </section>

    <!-- ===========================================================
         Weekly Pack
    ============================================================ -->
    <section class="shop-section">
      <h2>Weekly Pack</h2>
      <p class="subtitle">Claim a premium bundle once every 7 days!</p>

      <div class="shop-grid">
        <div class="shop-item special">
          <img src="/public/sprites/items/starter_pack.png" class="item-icon" />
          <h3>Weekly Pack</h3>
          <p class="desc">3 Common ‚Ä¢ 2 Uncommon ‚Ä¢ 1 Rare ‚Ä¢ Includes Trainers</p>
          <p class="price">FREE</p>
          <button class="buy-btn" data-item="weekly">Claim</button>
          <p id="weeklyStatus"></p>
        </div>
      </div>
    </section>

  </main>

  <!-- ===========================================================
       Script
  ============================================================ -->
  <script type="module" src="script.js"></script>


  <!-- Inject dynamic prices -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const mapping = {
        pokeball: "pokeball",
        greatball: "greatball",
        ultraball: "ultraball",
        evo_stone: "evo_stone"
      };

      for (const key in mapping) {
        const el = document.querySelector(`[data-price="${key}"]`);
        if (el && window.ITEM_COSTS && window.ITEM_COSTS[key]) {
          el.textContent = window.ITEM_COSTS[key];
        }
      }
    });
  </script>

</body>
</html>
